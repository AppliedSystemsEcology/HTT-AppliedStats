inner_join(field_layout2022, by =c("block"="block","whole_plot"="whole_plot", "subplot"="subplot", "interrow_flower"="interrow_flower")) %>%
subset(select = -c(subplot_num.x, subplot_num.y)) %>%
pivot_wider(names_from = "type", values_from = "n", values_fill = 0) %>%
rowwise() %>%
rename(no_visit = "NA") %>%
mutate(Total_visits = sum(c_across("A. nasonii":"Ceratina sp.")),
shannondiv=diversity(c_across("A. nasonii":"Ceratina sp."),index = "shannon"),
simpsondiv=diversity(c_across("A. nasonii":"Ceratina sp."),index = "simpson")) %>%
subset(select = -(no_visit))
Visitations2022 = na.omit(Visitations2022)
library(lubridate)
Visitations2022 <- Pollinator_Visitation_data_2022 %>%
mutate(subplot= as.factor(subplot), date=as.Date(date)) %>%
complete(date,block,whole_plot, subplot, interrow_flower, fill = list(n = 0)) %>%
mutate(type = as.character(type)) %>%
inner_join(field_layout2022, by =c("block"="block","whole_plot"="whole_plot", "subplot"="subplot", "interrow_flower"="interrow_flower")) %>%
subset(select = -c(subplot_num.x, subplot_num.y)) %>%
pivot_wider(names_from = "type", values_from = "n", values_fill = 0) %>%
rowwise() %>%
rename(no_visit = "NA") %>%
mutate(Total_visits = sum(c_across("A. nasonii":"Ceratina sp.")),
shannondiv=diversity(c_across("A. nasonii":"Ceratina sp."),index = "shannon"),
simpsondiv=diversity(c_across("A. nasonii":"Ceratina sp."),index = "simpson"),
julian_day = yday(date)) %>%
subset(select = -(no_visit))
Visitations2022 <- Pollinator_Visitation_data_2022 %>%
mutate(subplot= as.factor(subplot), date=as.Date(date)) %>%
complete(date,block,whole_plot, subplot, interrow_flower, fill = list(n = 0)) %>%
mutate(type = as.character(type)) %>%
inner_join(field_layout2022, by =c("block"="block","whole_plot"="whole_plot", "subplot"="subplot", "interrow_flower"="interrow_flower")) %>%
subset(select = -c(subplot_num.x, subplot_num.y)) %>%
pivot_wider(names_from = "type", values_from = "n", values_fill = 0) %>%
rowwise() %>%
rename(no_visit = "NA") %>%
mutate(Total_visits = sum(c_across("A. nasonii":"Ceratina sp.")),
shannondiv=diversity(c_across("A. nasonii":"Ceratina sp."),index = "shannon"),
simpsondiv=diversity(c_across("A. nasonii":"Ceratina sp."),index = "simpson"),
julian_day = yday(date),
flower_type = "alyssum") %>%
subset(select = -(no_visit))
# Remove NA values from dataframe
Visitations2022 = na.omit(Visitations2022)
Pollinator_Visitation_data_2023 <- read_excel(path = "C:/Users/mykal/OneDrive - The Pennsylvania State University/Grab Lab - Mykalas_Projects - Documents/Mykalas_Projects/projects/strawberry-pollinators/data/2023/pollinator-visitation-data-2023.xlsx")
field_layout2023 <- read_excel(path = "C:/Users/mykal/OneDrive - The Pennsylvania State University/Grab Lab - Mykalas_Projects - Documents/Mykalas_Projects/projects/strawberry-pollinators/data/2023/pollinator-field-layout-2023.xlsx")
field_layout2023 <- field_layout2023 %>%
mutate(subplot = as.factor(subplot))
Visitations2023 <- Pollinator_Visitation_data_2023 %>%
mutate(subplot= as.factor(subplot), date=as.Date(date)) %>%
complete(date,block,whole_plot, subplot, interrow_flower, fill = list(n = 0)) %>%
mutate(type = as.character(type)) %>%
inner_join(field_layout2023, by =c("block"="block","whole_plot"="whole_plot", "subplot"="subplot", "interrow_flower"="interrow_flower")) %>%
subset(select = -c(subplot_num.x, subplot_num.y)) %>%
pivot_wider(names_from = "type", values_from = "n", values_fill = 0) %>%
rowwise() %>%
rename(no_visit = "NA")
View(Visitations2023)
Visitations2023 <- Pollinator_Visitation_data_2023 %>%
mutate(subplot= as.factor(subplot), date=as.Date(date)) %>%
complete(date,block,whole_plot, subplot, interrow_flower, fill = list(n = 0)) %>%
mutate(type = as.character(type)) %>%
inner_join(field_layout2023, by =c("block"="block","whole_plot"="whole_plot", "subplot"="subplot", "interrow_flower"="interrow_flower")) %>%
subset(select = -c(subplot_num.x, subplot_num.y)) %>%
pivot_wider(names_from = "type", values_from = "n", values_fill = 0) %>%
rowwise() %>%
rename(no_visit = "NA") %>%
mutate(Total_visits = sum(c_across("Lasioglossum sp.":"Bombus sp.")),
shannondiv=diversity(c_across("Lasioglossum sp.":"Bombus sp."),index = "shannon"),
simpsondiv=diversity(c_across("Lasioglossum sp.":"Bombus sp."),index = "simpson"),
julian_day = yday(date),
flower_type = "clover") %>%
subset(select = -(no_visit))
# Remove NA values from dataframe
Visitations2023 = na.omit(Visitations2023)
Visitations2023 <- Pollinator_Visitation_data_2023 %>%
mutate(subplot= as.factor(subplot), date=as.Date(date))
Visitations2023 <- Pollinator_Visitation_data_2023 %>%
mutate(subplot= as.factor(subplot), date=as.Date(date)) %>%
complete(date,block,whole_plot, subplot, interrow_flower, fill = list(n = 0))
Visitations2023 <- Pollinator_Visitation_data_2023 %>%
mutate(subplot= as.factor(subplot), date=as.Date(date)) %>%
complete(date,block,whole_plot, subplot, interrow_flower, fill = list(n = 0)) %>%
mutate(type = as.character(type))
inner_join(field_layout2023, by =c("block"="block","whole_plot"="whole_plot", "subplot"="subplot", "interrow_flower"="interrow_flower"))
Visitations2023 <- Pollinator_Visitation_data_2023 %>%
mutate(subplot= as.factor(subplot), date=as.Date(date)) %>%
complete(date,block,whole_plot, subplot, interrow_flower, fill = list(n = 0)) %>%
mutate(type = as.character(type)) %>%
inner_join(field_layout2023, by =c("block"="block","whole_plot"="whole_plot", "subplot"="subplot", "interrow_flower"="interrow_flower"))
Visitations2023 <- Pollinator_Visitation_data_2023 %>%
mutate(subplot= as.factor(subplot), date=as.Date(date)) %>%
complete(date,block,whole_plot, subplot, interrow_flower, fill = list(n = 0)) %>%
mutate(type = as.character(type))
Pollinator_Visitation_data_2022 <- read_excel(path = "C:/Users/mykal/OneDrive - The Pennsylvania State University/Grab Lab - Mykalas_Projects - Documents/Mykalas_Projects/projects/strawberry-pollinators/data/2022/pollinator-visitation-data-2022.xlsx")
field_layout2022 <- read_excel(path = "C:/Users/mykal/OneDrive - The Pennsylvania State University/Grab Lab - Mykalas_Projects - Documents/Mykalas_Projects/projects/strawberry-pollinators/data/2022/pollinator-field-layout-2022.xlsx")
field_layout2022 <- field_layout2022 %>%
mutate(subplot = as.factor(subplot))
Visitations2022 <- Pollinator_Visitation_data_2022 %>%
mutate(subplot= as.factor(subplot), date=as.Date(date)) %>%
complete(date,block,whole_plot, subplot, interrow_flower, fill = list(n = 0))
Visitations2022 <- Pollinator_Visitation_data_2022 %>%
mutate(subplot= as.factor(subplot), date=as.Date(date)) %>%
complete(date,block,whole_plot, subplot, interrow_flower, subplot_num, fill = list(n = 0))
Visitations2022 <- Pollinator_Visitation_data_2022 %>%
mutate(subplot= as.factor(subplot), date=as.Date(date)) %>%
complete(date,block,whole_plot, subplot, interrow_flower, subplot_num, fill = list(n = 0)) %>%
mutate(type = as.character(type))
Visitations2022 <- Pollinator_Visitation_data_2022 %>%
mutate(subplot= as.factor(subplot), date=as.Date(date)) %>%
complete(date,block,whole_plot, subplot, interrow_flower, subplot_num, fill = list(n = 0)) %>%
mutate(type = as.character(type)) %>%
inner_join(field_layout2022, by = "subplot_num" = "subplot_num")
Visitations2022 <- Pollinator_Visitation_data_2022 %>%
mutate(subplot= as.factor(subplot), date=as.Date(date)) %>%
complete(date,block,whole_plot, subplot, interrow_flower, subplot_num, fill = list(n = 0)) %>%
mutate(type = as.character(type)) %>%
inner_join(field_layout2022, by = c("subplot_num" = "subplot_num"))
Visitations2022 <- Pollinator_Visitation_data_2022 %>%
mutate(subplot= as.factor(subplot), date=as.Date(date)) %>%
complete(date,block,whole_plot, subplot, interrow_flower, subplot_num, fill = list(n = 0)) %>%
mutate(type = as.character(type)) %>%
inner_join(field_layout2022, by =c("block"="block","whole_plot"="whole_plot", "subplot"="subplot", "interrow_flower"="interrow_flower"))
Visitations2022 <- Pollinator_Visitation_data_2022 %>%
mutate(subplot= as.factor(subplot), date=as.Date(date)) %>%
complete(date,block,whole_plot, subplot, interrow_flower, subplot_num, fill = list(n = 0)) %>%
mutate(type = as.character(type)) %>%
inner_join(field_layout2022, by =c("block"="block","whole_plot"="whole_plot", "subplot"="subplot", "interrow_flower"="interrow_flower", "subplot_num" = "subplot_num")
Visitations2022 <- Pollinator_Visitation_data_2022 %>%
Visitations2022 <- Pollinator_Visitation_data_2022 %>%
mutate(subplot= as.factor(subplot), date=as.Date(date)) %>%
complete(date,block,whole_plot, subplot, interrow_flower, subplot_num, fill = list(n = 0)) %>%
mutate(type = as.character(type)) %>%
inner_join(field_layout2022, by =c("block"="block","whole_plot"="whole_plot", "subplot"="subplot", "interrow_flower"="interrow_flower", "subplot_num" = "subplot_num"))
Visitations2022 <- Pollinator_Visitation_data_2022 %>%
mutate(subplot= as.factor(subplot), date=as.Date(date)) %>%
complete(date,block,whole_plot, subplot, interrow_flower, subplot_num, fill = list(n = 0)) %>%
mutate(type = as.character(type)) %>%
inner_join(field_layout2022, by =c("block"="block","whole_plot"="whole_plot", "subplot"="subplot", "interrow_flower"="interrow_flower", "subplot_num" = "subplot_num")) %>%
subset(select = -c(subplot_num.x, subplot_num.y))
Visitations2022 <- Pollinator_Visitation_data_2022 %>%
mutate(subplot= as.factor(subplot), date=as.Date(date)) %>%
complete(date,block,whole_plot, subplot, interrow_flower, subplot_num, fill = list(n = 0)) %>%
mutate(type = as.character(type)) %>%
inner_join(field_layout2022, by =c("block"="block","whole_plot"="whole_plot", "subplot"="subplot", "interrow_flower"="interrow_flower"))
Visitations2022 <- Pollinator_Visitation_data_2022 %>%
mutate(subplot= as.factor(subplot), date=as.Date(date)) %>%
complete(date,block,whole_plot, subplot, interrow_flower, subplot_num, fill = list(n = 0)) %>%
mutate(type = as.character(type)) %>%
inner_join(field_layout2022, by =c("block"="block","whole_plot"="whole_plot", "subplot"="subplot", "interrow_flower"="interrow_flower")) %>%
subset(select = -c(subplot_num.x, subplot_num.y))
Visitations2022 <- Pollinator_Visitation_data_2022 %>%
mutate(subplot= as.factor(subplot), date=as.Date(date)) %>%
complete(date,block,whole_plot, subplot, interrow_flower, subplot_num, fill = list(n = 0)) %>%
mutate(type = as.character(type)) %>%
inner_join(field_layout2022, by =c("block"="block","whole_plot"="whole_plot", "subplot"="subplot", "interrow_flower"="interrow_flower")) %>%
subset(select = -c(subplot_num.x, subplot_num.y)) %>%
pivot_wider(names_from = "type", values_from = "n", values_fill = 0) %>%
rowwise() %>%
rename(no_visit = "NA") %>%
mutate(Total_visits = sum(c_across("A. nasonii":"Ceratina sp.")),
shannondiv=diversity(c_across("A. nasonii":"Ceratina sp."),index = "shannon"),
simpsondiv=diversity(c_across("A. nasonii":"Ceratina sp."),index = "simpson"),
julian_day = yday(date),
flower_type = "alyssum") %>%
subset(select = -(no_visit))
## Load pollinator visitation data
Pollinator_Visitation_data_2022 <- read_excel(path = "C:/Users/mykal/OneDrive - The Pennsylvania State University/Grab Lab - Mykalas_Projects - Documents/Mykalas_Projects/projects/strawberry-pollinators/data/2022/pollinator-visitation-data-2022.xlsx")
field_layout2022 <- read_excel(path = "C:/Users/mykal/OneDrive - The Pennsylvania State University/Grab Lab - Mykalas_Projects - Documents/Mykalas_Projects/projects/strawberry-pollinators/data/2022/pollinator-field-layout-2022.xlsx")
field_layout2022 <- field_layout2022 %>%
mutate(subplot = as.factor(subplot))
Visitations2022 <- Pollinator_Visitation_data_2022 %>%
mutate(subplot= as.factor(subplot), date=as.Date(date))
Visitations2022 <- Pollinator_Visitation_data_2022 %>%
mutate(subplot= as.factor(subplot), date=as.Date(date)) %>%
complete(date,block,whole_plot, subplot, interrow_flower, subplot_num, fill = list(n = 0))
Visitations2022 <- Pollinator_Visitation_data_2022 %>%
mutate(subplot= as.factor(subplot), date=as.Date(date)) %>%
complete(date,block,whole_plot, subplot, interrow_flower, subplot_num, fill = list(n = 0)) %>%
mutate(type = as.character(type))
Visitations2022 <- Pollinator_Visitation_data_2022 %>%
mutate(subplot= as.factor(subplot), date=as.Date(date)) %>%
complete(date,block,whole_plot, subplot, interrow_flower, subplot_num, fill = list(n = 0)) %>%
mutate(type = as.character(type)) %>%
inner_join(field_layout2022, by =c("block"="block","whole_plot"="whole_plot", "subplot"="subplot", "interrow_flower"="interrow_flower"))
Visitations2022 <- Pollinator_Visitation_data_2022 %>%
mutate(subplot= as.factor(subplot), date=as.Date(date)) %>%
complete(date,block,whole_plot, subplot, interrow_flower, subplot_num, fill = list(n = 0)) %>%
mutate(type = as.character(type)) %>%
inner_join(field_layout2022, by =c("block"="block","whole_plot"="whole_plot", "subplot"="subplot", "interrow_flower"="interrow_flower")) %>%
subset(select = -c(subplot_num.x, subplot_num.y))
Visitations2022 <- Pollinator_Visitation_data_2022 %>%
mutate(subplot= as.factor(subplot), date=as.Date(date)) %>%
complete(date,block,whole_plot, subplot, interrow_flower, subplot_num, fill = list(n = 0)) %>%
mutate(type = as.character(type)) %>%
inner_join(field_layout2022, by =c("block"="block","whole_plot"="whole_plot", "subplot"="subplot", "interrow_flower"="interrow_flower")) %>%
subset(select = -c(subplot_num.x, subplot_num.y)) %>%
pivot_wider(names_from = "type", values_from = "n", values_fill = 0)
Pollinator_Visitation_data_2022 <- read_excel(path = "C:/Users/mykal/OneDrive - The Pennsylvania State University/Grab Lab - Mykalas_Projects - Documents/Mykalas_Projects/projects/strawberry-pollinators/data/2022/pollinator-visitation-data-2022.xlsx")
field_layout2022 <- read_excel(path = "C:/Users/mykal/OneDrive - The Pennsylvania State University/Grab Lab - Mykalas_Projects - Documents/Mykalas_Projects/projects/strawberry-pollinators/data/2022/pollinator-field-layout-2022.xlsx")
field_layout2022 <- field_layout2022 %>%
mutate(subplot = as.factor(subplot))
Visitations2022 <- Pollinator_Visitation_data_2022 %>%
mutate(subplot= as.factor(subplot), date=as.Date(date)) %>%
complete(date,block,whole_plot, subplot, interrow_flower, subplot_num, fill = list(n = 0)) %>%
mutate(type = as.character(type)) %>%
inner_join(field_layout2022, by =c("block"="block","whole_plot"="whole_plot", "subplot"="subplot", "interrow_flower"="interrow_flower")) %>%
subset(select = -c(subplot_num.x, subplot_num.y)) %>%
pivot_wider(names_from = "type", values_from = "n", values_fill = 0) %>%
rowwise() %>%
rename(no_visit = "NA") %>%
mutate(Total_visits = sum(c_across("A. nasonii":"Ceratina sp.")),
shannondiv=diversity(c_across("A. nasonii":"Ceratina sp."),index = "shannon"),
simpsondiv=diversity(c_across("A. nasonii":"Ceratina sp."),index = "simpson"),
julian_day = yday(date),
flower_type = "alyssum") %>%
subset(select = -(no_visit))
Visitations2022 <- Pollinator_Visitation_data_2022 %>%
mutate(subplot= as.factor(subplot), date=as.Date(date)) %>%
complete(date,block,whole_plot, subplot, interrow_flower, subplot_num, fill = list(n = 0)) %>%
mutate(type = as.character(type)) %>%
inner_join(field_layout2022, by =c("block"="block","whole_plot"="whole_plot", "subplot"="subplot", "interrow_flower"="interrow_flower"))
Visitations2022 <- Pollinator_Visitation_data_2022 %>%
mutate(subplot= as.factor(subplot), date=as.Date(date)) %>%
complete(date,block,whole_plot, subplot, interrow_flower, subplot_num, fill = list(n = 0)) %>%
mutate(type = as.character(type)) %>%
inner_join(field_layout2022, by =c("block"="block","whole_plot"="whole_plot", "subplot"="subplot", "interrow_flower"="interrow_flower")) %>%
subset(select = -c(subplot_num.x, subplot_num.y))
Visitations2022 <- Pollinator_Visitation_data_2022 %>%
mutate(subplot= as.factor(subplot), date=as.Date(date)) %>%
complete(date,block,whole_plot, subplot, interrow_flower, subplot_num, fill = list(n = 0)) %>%
mutate(type = as.character(type)) %>%
inner_join(field_layout2022, by =c("block"="block","whole_plot"="whole_plot", "subplot"="subplot", "interrow_flower"="interrow_flower")) %>%
subset(select = -c(subplot_num.x, subplot_num.y)) %>%
pivot_wider(names_from = "type", values_from = "n", values_fill = 0)
Visitations2022 <- Pollinator_Visitation_data_2022 %>%
mutate(subplot= as.factor(subplot), date=as.Date(date)) %>%
complete(date,block,whole_plot, subplot, interrow_flower, subplot_num, fill = list(n = 0)) %>%
mutate(type = as.character(type))
Visitations2022 <- Pollinator_Visitation_data_2022 %>%
mutate(subplot= as.factor(subplot), date=as.Date(date)) %>%
complete(date,block,whole_plot, subplot, interrow_flower, subplot_num, fill = list(n = 0)) %>%
mutate(type = as.character(type)) %>%
inner_join(field_layout2022, by =c("block"="block","whole_plot"="whole_plot", "subplot"="subplot", "interrow_flower"="interrow_flower"))
Pollinator_Visitation_data_2022 <- read_excel(path = "C:/Users/mykal/OneDrive - The Pennsylvania State University/Grab Lab - Mykalas_Projects - Documents/Mykalas_Projects/projects/strawberry-pollinators/data/2022/pollinator-visitation-data-2022.xlsx")
field_layout2022 <- read_excel(path = "C:/Users/mykal/OneDrive - The Pennsylvania State University/Grab Lab - Mykalas_Projects - Documents/Mykalas_Projects/projects/strawberry-pollinators/data/2022/pollinator-field-layout-2022.xlsx")
field_layout2022 <- field_layout2022 %>%
mutate(subplot = as.factor(subplot))
Visitations2022 <- Pollinator_Visitation_data_2022 %>%
mutate(subplot= as.factor(subplot), date=as.Date(date)) %>%
complete(date,block,whole_plot, subplot, interrow_flower, subplot_num, fill = list(n = 0)) %>%
mutate(type = as.character(type)) %>%
inner_join(field_layout2022, by =c("block"="block","whole_plot"="whole_plot", "subplot"="subplot", "interrow_flower"="interrow_flower")) %>%
subset(select = -c(subplot_num.x, subplot_num.y)) %>%
pivot_wider(names_from = "type", values_from = "n", values_fill = 0) %>%
rowwise() %>%
rename(no_visit = "NA") %>%
mutate(Total_visits = sum(c_across("A. nasonii":"Ceratina sp.")),
shannondiv=diversity(c_across("A. nasonii":"Ceratina sp."),index = "shannon"),
simpsondiv=diversity(c_across("A. nasonii":"Ceratina sp."),index = "simpson"),
julian_day = yday(date),
flower_type = "alyssum") %>%
subset(select = -(no_visit))
Visitations2022 <- Pollinator_Visitation_data_2022 %>%
mutate(subplot= as.factor(subplot), date=as.Date(date))
Visitations2022 <- Pollinator_Visitation_data_2022 %>%
mutate(subplot= as.factor(subplot), date=as.Date(date)) %>%
complete(date,block,whole_plot, subplot, interrow_flower, subplot_num, fill = list(n = 0)) %>%
mutate(type = as.character(type))
Visitations2022 <- Pollinator_Visitation_data_2022 %>%
mutate(subplot= as.factor(subplot), date=as.Date(date)) %>%
complete(date,block,whole_plot, subplot, interrow_flower, subplot_num, fill = list(n = 0)) %>%
mutate(type = as.character(type)) %>%
inner_join(field_layout2022, by =c("block"="block","whole_plot"="whole_plot", "subplot"="subplot", "interrow_flower"="interrow_flower"))
Visitations2022 <- Pollinator_Visitation_data_2022 %>%
mutate(subplot= as.factor(subplot), date=as.Date(date)) %>%
complete(date,block,whole_plot, subplot, interrow_flower, subplot_num, fill = list(n = 0)) %>%
mutate(type = as.character(type)) %>%
inner_join(field_layout2022, by =c("block"="block","whole_plot"="whole_plot", "subplot"="subplot", "interrow_flower"="interrow_flower")) %>%
subset(select = -c(subplot_num.x, subplot_num.y))
Visitations2022 <- Pollinator_Visitation_data_2022 %>%
mutate(subplot= as.factor(subplot), date=as.Date(date)) %>%
complete(date,block,whole_plot, subplot, interrow_flower, subplot_num, fill = list(n = 0)) %>%
mutate(type = as.character(type)) %>%
inner_join(field_layout2022, by =c("block"="block","whole_plot"="whole_plot", "subplot"="subplot", "interrow_flower"="interrow_flower")) %>%
subset(select = -c(subplot_num.x, subplot_num.y)) %>%
pivot_wider(names_from = "type", values_from = "n", values_fill = 0)
Visitations2022 <- Pollinator_Visitation_data_2022 %>%
mutate(subplot= as.factor(subplot), date=as.Date(date))
Visitations2022 <- Pollinator_Visitation_data_2022 %>%
mutate(subplot= as.factor(subplot), date=as.Date(date))
Visitations2022 <- Visitations2022 %>%
complete(date,block,whole_plot, subplot, interrow_flower, subplot_num, fill = list(n = 0)) %>%
mutate(type = as.character(type)
Visitations2022 <- Visitations2022 %>%
Visitations2022 <- Visitations2022 %>%
complete(date,block,whole_plot, subplot, interrow_flower, subplot_num, fill = list(n = 0)) %>%
mutate(type = as.character(type)) %>%
inner_join(field_layout2022, by =c("block"="block","whole_plot"="whole_plot", "subplot"="subplot", "interrow_flower"="interrow_flower")) %>%
subset(select = -c(subplot_num.x, subplot_num.y)) %>%
pivot_wider(names_from = "type", values_from = "n", values_fill = 0) %>%
rowwise() %>%
rename(no_visit = "NA") %>%
mutate(Total_visits = sum(c_across("A. nasonii":"Ceratina sp.")),
shannondiv=diversity(c_across("A. nasonii":"Ceratina sp."),index = "shannon"),
simpsondiv=diversity(c_across("A. nasonii":"Ceratina sp."),index = "simpson"),
julian_day = yday(date),
flower_type = "alyssum") %>%
subset(select = -(no_visit))
install.packages("rsthemes")
install.packages(
"rsthemes",
repos = c(gadenbuie = 'https://gadenbuie.r-universe.dev', getOption("repos"))
)
rsthemes::list_rsthemes()
rsthemes::install_rsthemes()
rsthemes::try_rsthemes()
?tiff()
install.packages("nnet")
install.packages("DHARMa")
install.packages("AICcmodavg")
# Load in data
data <- read.csv("https://raw.githubusercontent.com/saraherm/Applied_Biostatistics/refs/heads/main/Insect_metadata2.csv")
# Load libraries
library(ggplot2)
library(vegan)
# Load in data
raw_data <- read.csv("https://raw.githubusercontent.com/saraherm/Applied_Biostatistics/refs/heads/main/Insect_metadata2.csv")
View(data)
# Load in data
raw_data <- read.csv("https://raw.githubusercontent.com/saraherm/Applied_Biostatistics/refs/heads/main/Insect_metadata2.csv")
# Tidy data
data <- raw_data %>%
mutate(Treatment = as.factor(Treatment))
library(dplyr)
# Tidy data
data <- raw_data %>%
mutate(Treatment = as.factor(Treatment))
# Create a species matrix of our counts
species <- data [,3:29]
View(species)
# Calculate the distances
dist <- vegdist(
species,
"bray"
)
# Run PERMANOVA
permanova <- adonis2(
dist ~ Treatment,
permutations = 999,
method = "bray",
data = data
)
?adonis2()
# Look at results
permanova
# NMDS
ord <- metaMDS(
species
)
## Visualize results of permanova
# pull Treatment column from data (second column in dataframe)
Treatment <- factor(data[,2])
ord <- metaMDS(
species
)
# Create objects for other visualization aspects
scrs <- scores(
ord,
display = "sites")
scrs <- aggregate(
cbind(
NMDS1, NMDS2
) ~ Treatment
)
scrs <- aggregate(
cbind(
NMDS1, NMDS2
) ~ Treatment,
data = scrs,
FUN = mean
)
segs <- merge(
scrs,
setNames(cent, c("Treatment", "oNMDS1", "oNMDS2")),
by = "Treatment",
sort = FALSE
)
scrs <- scores(
ord,
display = "sites")
cent <- aggregate(
cbind(
NMDS1, NMDS2
) ~ Treatment,
data = scrs,
FUN = mean
)
segs <- merge(
scrs,
setNames(cent, c("Treatment", "oNMDS1", "oNMDS2")),
by = "Treatment",
sort = FALSE
)
View(cent)
scrs <- scores(
ord,
display = "sites")
scrs <- cbind(
as.data.framte(scrs), Treatment = data$Treatment)
cent <- aggregate(
cbind(
NMDS1, NMDS2
) ~ Treatment,
data = scrs,
FUN = mean
)
segs <- merge(
scrs,
setNames(cent, c("Treatment", "oNMDS1", "oNMDS2")),
by = "Treatment",
sort = FALSE
)
scrs <- scores(
ord,
display = "sites")
scrs <- cbind(
as.data.framte(scrs), Treatment = data$Treatment)
scrs <- scores(
ord,
display = "sites")
scrs <- cbind(
as.data.frame(scrs), Treatment = data$Treatment)
)
scrs <- cbind(
as.data.frame(scrs), Treatment = data$Treatment
)
# make centroid
cent <- aggregate(
cbind(
NMDS1, NMDS2
) ~ Treatment,
data = scrs,
FUN = mean
)
segs <- merge(
scrs,
setNames(cent, c("Treatment", "oNMDS1", "oNMDS2")),
by = "Treatment",
sort = FALSE
)
segs <- merge(
scrs,
setNames(cent, c("Treatment", "oNMDS1", "oNMDS2")),
by = 'Treatment',
sort = FALSE
)
scrs <- scores(
ord,
display = "sites")
scrs <- cbind(
as.data.frame(scrs), Treatment = data$Treatment
)
cent <- aggregate(
cbind(
NMDS1, NMDS2
) ~ Treatment,
data = scrs,
FUN = mean
)
segs <- merge(
scrs,
setNames(cent, c("Treatment", "oNMDS1", "oNMDS2")),
by = 'Treatment',
sort = FALSE
)
ggplot(scrs, aes(x=NMDS1, y=NMDS2, color=Treatment))+
geom_segment(data=segs,
mapping = aes(xend=oNMDS1, yend=oNMDS2))+
geom_point(data=cent, size=8)+
geom_point()+
coord_fixed()
ggplot(scrs, aes(x=NMDS1, y=NMDS2, color=Treatment))+
geom_segment(data=segs,
mapping = aes(xend=oNMDS1, yend=oNMDS2))+
geom_point(data=cent, size=4)+
geom_point()+
coord_fixed()
remove.packages("gt")
install.packages("gt")
install.packages("treesitter")
library(treesitter)
install.packages("tree-sitter")
install.packages("treesitter.r")
library(tidyverse)
library(dplyr)
library(purrr)
library(openxlsx)
library(ggplot2)
library(hms)
library(openxlsx)
setwd("C:/Users/mykal/OneDrive - The Pennsylvania State University/Grab Lab - Mykalas_Projects - Documents/Mykalas_Projects/projects/High Tunnel Thrips/analysis/HTT-AppliedStats/data")
getwd()
# Load tomato thrips damage data from local environment
TomatoThripsDamageRS <- read.xlsx("TomatoThripsDamageRS.xlsx", detectDates = TRUE)
# Load tomato thrips damage data from local environment
TomatoThripsDamageRS <- read.xlsx("TomatoThripsDamageRS.xlsx", detectDates = TRUE)
list.files()
# Load tomato thrips damage data from local environment
TomatoThripsDamageRS <- read.xlsx("TomatoThripsDamageRS.xlsx", detectDates = TRUE)
?read.xlsx()
TomatoThripsDamageSEAREC <- read.xlsx("TomatoThripsDamageSEAREC.xlsx", detectDates = TRUE)
# Load ground cover ID data from local environment
GroundCoverID <- read.xlsx("Site_GroundCover_2025.xlsx", detectDates = TRUE)
